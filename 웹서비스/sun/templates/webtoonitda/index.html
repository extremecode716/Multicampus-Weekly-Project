{% extends 'base.html' %}
{% load pybo_filter %}
{% block content %}

<div class="container my-3">
    <h1> webtoonitda에 오신 것을 환영합니다!</h1>
</div>

<form action="{% url 'webtoonitda:webtoon_summary' %}" method="POST">
    {% csrf_token %}
    <div class="col-sm-4 col-lg-3">
        <!-- Search widget-->
        <div class="card mb-4">
            <div class="card-header">Search</div>
            <div class="card-body">
                <h5> 언어를 선택하세요. </h5>
                <div class="input-group">
                    <select class="form-select" id="selectbox_lang" name="lang" onchange="changeLangSelect()">
                        <option value="" selected disabled>언어를 선택</option>

                        <option value="en">영어</option>
                        <option value="kr">한글</option>
                    </select>
                </div>
                <br>
                <h5> 플랫폼을 선택하세요. </h5>
                <div class="input-group">
                    <select class="form-select" id="selectbox_platform" name="platform"
                            onchange="changePlatformSelect()">
                        <option value="" selected disabled>플랫폼을 선택</option>
                        <option value="naver">네이버웹툰</option>
                        <option value="kakao">카카오웹툰</option>
                    </select>

                </div>
                <br>
                <h5> 웹툰을 선택하세요. </h5>
                <div class="input-group">
                    <select class="form-select" id="selectbox_webtoon" name="webtoon" onchange="changeWebtoonSelect()">
                        <option value="" selected disabled>웹툰을 선택</option>
                        <option value="전지적 독자 시점">전지적 독자 시점</option>
                        <option value="여신 강림">여신 강림</option>
                    </select>
                    <button type="submit" class="btn btn-outline-secondary" onclick="clickStartAnalysis()">Go!</button>
                </div>

                <div id="result"></div>
            </div>
        </div>
        <!-- Categories widget-->
        <div class="card mb-4">
            <div class="card-header">Categories</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-6">
                        <ul class="list-unstyled mb-0">
                            <li><a href="#!">Web Design</a></li>
                            <li><a href="#!">HTML</a></li>
                            <li><a href="#!">Freebies</a></li>
                        </ul>
                    </div>
                    <div class="col-sm-6">
                        <ul class="list-unstyled mb-0">
                            <li><a href="#!">JavaScript</a></li>
                            <li><a href="#!">CSS</a></li>
                            <li><a href="#!">Tutorials</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>


{% endblock %}
{% block script %}
<script type='text/javascript'>

var result = document.getElementById("result");

function clickStartAnalysis(){
    alert('분석을 시작합니다');
}

var selectedLang;
var selectedPlatform;
var selectedWebtoon;
var selectedEpisode;

function changeLangSelect(){
    var selected = document.getElementById("selectbox_lang");
    var selectedText = selected.options[selected.selectedIndex].text;
    //alert(selectedText + '을 선택하셨습니다.');
    //result.innerHTML = selectedText + "를 선택하셨습니다."
    selectedLang = selectedText;
    result.innerHTML = selectedLang + "를 선택하셨습니다."
}

function changePlatformSelect(){
    var selected = document.getElementById("selectbox_platform");
    var selectedText = selected.options[selected.selectedIndex].text;
    //alert(selectedText + '을 선택하셨습니다.');
    //result.innerHTML = selectedText + "를 선택하셨습니다."
    selectedPlatform = selectedText;
    result.innerHTML = selectedLang + ' ' + selectedPlatform + "를 선택하셨습니다."
}

function changeWebtoonSelect(){
    var selected = document.getElementById("selectbox_webtoon");
    var selectedText = selected.options[selected.selectedIndex].text;
    //alert(selectedText + '을 선택하셨습니다.');
    //result.innerHTML = selectedText + "를 선택하셨습니다."
    selectedWebtoon = selectedText;
    result.innerHTML = selectedLang + ' ' + selectedPlatform  + ' ' + selectedWebtoon + "을 선택하셨습니다."
}

function changeEpisodeSelect(){
    var selected = document.getElementById("selectbox_episode");
    var selectedText = selected.options[selected.selectedIndex].text;
    //alert(selectedText + '을 선택하셨습니다.');
    //result.innerHTML = selectedText + "를 선택하셨습니다."
    selectedEpisode = selectedText;
    result.innerHTML = selectedLang + ' ' + selectedPlatform + ' ' + selectedWebtoon +  ' ' +selectedEpisode + "을 선택하셨습니다."
}


</script>

{% endblock %}